<div class="apply-container">
    <div class="header">
        <div class="title">
            <span>零钱提现</span>
        </div>
        <a href="javascrpt:;" class="back" (click)="back()" *ngIf="isMobile">
            <i class="fa fa-angle-left"></i>
        </a>
        <a href="javascrpt:;" class="close" (click)="close()" *ngIf="!isMobile">
            <i class="fa fa-close"></i>
        </a>
    </div>
    <form #conversionMoneyForm="ngForm" class="body" (ngSubmit)="cashOut()">
        <div class="content">
            <!-- <div class="row">
                <span>到账银行卡</span>
            </div> -->
            <div class="money-wrapper">
                <div class="money-label">
                    <span>提现金额</span>
                    <span class="text-secondary" *ngIf="room.drawmoneyOpts && room.drawmoneyOpts.minMoney > 0">( 提现最小金额{{room.drawmoneyOpts.minMoney}}元 )</span>
                </div>
                <div class="money-input">
                    <span class="currency">￥</span>
                    <input type="text" [(ngModel)]="money" name="money" #moneyModel="ngModel" required (keyup)="moneyChange()">
                </div>
                <div class="mt-3 balance">
                    <ng-container *ngIf="wallet">
                        <span>当前余额 {{wallet.balance}} 元，</span>
                        <a href="javascript:;" (click)="cashOutAll()"> 全部提现</a>
                    </ng-container>
                </div>
            </div>

            <div class="mt-3 corp">
                <label>{{room.corp}}账号</label>
                <input type="text" [(ngModel)]="account" name="account" #accountModel="ngModel"  required>
            </div>

            <div *ngIf="room.drawmoneyOpts && room.drawmoneyOpts.enablePhone">
                <div class="mt-3 corp" *ngIf="!userInfo.phone">
                    <label>手机号</label>
                    <input type="text" [(ngModel)]="phone" name="phone" #phoneModel="ngModel" maxlength="11" pattern="^1[0-9]{10}$" required>
                    <div class="mt-1 text-danger" *ngIf="phoneModel.invalid && (phoneModel.dirty || phoneModel.touched)">
                        <i class="fa fa-exclamation-circle error-icon"></i>
                        <span *ngIf="phoneModel.errors.required">请输入有效手机号码</span>
                        <span *ngIf="phoneModel.errors.pattern">请输入有效手机号码</span>
                    </div>
                </div>
                <div class="mt-3 corp" *ngIf="userInfo.phone">
                    <label>手机号：{{userInfo.phone}}</label>
                </div>
            </div>

            <div class="remark mt-3 mb-4">
                <textarea class="remark text-truncate" [(ngModel)]="remark" name="remark" placeholder="添加备注"></textarea>
            </div>

            <div class="button-wrapper">
                <button type="submit" class="btn btn-block btn-primary" [disabled]="!conversionMoneyForm.form.valid"> 确认提现 </button>
            </div>
        </div>
    </form>

</div>